<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  <meta name="author" content="{{ site.author }}">

  <!-- SEO Meta Tags -->
  <meta property="og:title" content="{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}">
  <meta property="og:description" content="{{ page.description | default: site.description }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ '/assets/images/favicon.png' | relative_url }}">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Devicons for Technology Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

  <!-- Google Translate -->
  <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({
        pageLanguage: 'en',
        includedLanguages: 'en,de,ta,es,fr,it,pt,zh-CN,ja,ko,ar,hi',
        layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
        autoDisplay: false
      }, 'google_translate_element');
    }
  </script>
  <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  <!-- Google Fonts (Optional - Uncomment if needed) -->
  <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> -->

  <style>
    /* Google Translate widget styling */
    #google_translate_element {
      display: inline-block;
    }
    .goog-te-combo {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #fff;
      padding: 6px 8px;
      border-radius: 4px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .goog-te-combo:hover {
      background: rgba(255, 255, 255, 0.2);
    }
    .goog-te-combo option {
      color: #000;
    }
    /* Hide Google Translate banner */
    .goog-te-banner-frame {
      display: none !important;
    }
    body {
      top: 0 !important;
    }
  </style>
</head>
<body>
  <!-- Header & Navigation -->
  <header class="site-header">
    <div class="container">
      <nav class="site-nav">
        <h1 class="site-title">
          <a href="{{ '/' | relative_url }}">{{ site.title | default: "Professional Resume" }}</a>
        </h1>
        <ul class="nav-links">
          <li><a href="{{ '/' | relative_url }}">Home</a></li>
          <li><a href="{{ '/about' | relative_url }}">About</a></li>
          <li><a href="{{ '/experience' | relative_url }}">Experience</a></li>
          <li><a href="{{ '/skills' | relative_url }}">Skills</a></li>
          <li><a href="{{ '/projects' | relative_url }}">Projects</a></li>
          <li><a href="{{ '/education' | relative_url }}">Education</a></li>
          <li><a href="{{ '/certifications' | relative_url }}">Certifications</a></li>
        </ul>
        <div class="header-controls">
          <!-- Font Size Selector -->
          <div class="control-item">
            <select id="font-size-select" title="Change Font Size" aria-label="Font Size">
              <option value="small">A</option>
              <option value="medium" selected>A</option>
              <option value="large">A</option>
            </select>
          </div>
          <!-- Theme Toggle -->
          <div class="control-item">
            <button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle Theme">
              <i id="theme-icon" class="fas fa-moon"></i>
            </button>
          </div>
          <!-- Google Translate -->
          <div class="control-item" id="google_translate_element"></div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    {{ content }}
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-content">
        <ul class="social-links">
          <li>
            <a href="https://linkedin.com/in/{{ site.linkedin_username }}"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="LinkedIn"
               title="Connect on LinkedIn">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </li>
          <li>
            <a href="https://github.com/{{ site.github_username }}"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="GitHub"
               title="View GitHub Profile">
              <i class="fab fa-github"></i>
            </a>
          </li>
          <li>
            <a href="mailto:{{ site.email }}"
               aria-label="Email"
               title="Send Email">
              <i class="fas fa-envelope"></i>
            </a>
          </li>
          {% if site.twitter_username %}
          <li>
            <a href="https://twitter.com/{{ site.twitter_username }}"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="Twitter"
               title="Follow on Twitter">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          {% endif %}
        </ul>
        <p class="footer-text">
          &copy; {{ 'now' | date: "%Y" }} {{ site.author }}. Built with <a href="https://jekyllrb.com/" target="_blank" style="color: #fff;">Jekyll</a>.
        </p>
        <p class="footer-text" style="font-size: 0.75rem; margin-top: 0.5rem;">
          Last updated: {{ 'now' | date: "%B %Y" }}
        </p>
      </div>
    </div>
  </footer>

  <!-- Smooth Scroll Script -->
  <script>
    // Smooth scroll for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add active class to current page in navigation
    const currentLocation = window.location.pathname;
    const navLinks = document.querySelectorAll('.nav-links a');
    navLinks.forEach(link => {
      if (link.getAttribute('href') === currentLocation ||
          (currentLocation.includes(link.getAttribute('href')) && link.getAttribute('href') !== '/')) {
        link.style.background = 'var(--accent-blue)';
      }
    });

    // Add scroll effect to header
    let lastScroll = 0;
    const header = document.querySelector('.site-header');

    window.addEventListener('scroll', () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > 100) {
        header.style.boxShadow = '0 4px 12px rgba(44, 62, 80, 0.2)';
      } else {
        header.style.boxShadow = '0 2px 4px rgba(44, 62, 80, 0.12)';
      }

      lastScroll = currentScroll;
    });

    // Intersection Observer for fade-in animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.style.opacity = '1';
          entry.target.style.transform = 'translateY(0)';
        }
      });
    }, observerOptions);

    // Observe timeline items and cards
    document.addEventListener('DOMContentLoaded', () => {
      const animatedElements = document.querySelectorAll('.timeline-item, .card, .skill-category');
      animatedElements.forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(20px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
      });
    });
  </script>

  <!-- Theme Switcher & Settings -->
  <script src="{{ '/assets/js/theme-switcher.js' | relative_url }}"></script>
</body>
</html>